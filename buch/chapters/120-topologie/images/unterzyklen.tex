%
% unterzyklen.tex -- Unterteilung und Zyklen
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\usetikzlibrary{arrows,intersections,math,calc}
\definecolor{darkred}{rgb}{0.8,0,0}
\definecolor{darkgreen}{rgb}{0,0.6,0}
\begin{document}
\def\skala{1}
\def\t{0.6}
\def\d{0.032}
\begin{tikzpicture}[>=latex,thick,scale=\skala]

\begin{scope}[xshift=-3.3cm,yshift=0.3cm]

\clip (-3,-2.8) rectangle (3.1,2.2);

\coordinate (A) at (-2,-2);
\coordinate (B) at (2,-1);
\coordinate (C) at (0,1.2);

\coordinate (A1) at (-4,0);
\coordinate (A2) at (-2.5,-4);

\coordinate (C1) at (-4.5,0.5);
\coordinate (C2) at (-1.5,4);
\coordinate (C3) at (3,3);

\coordinate (B1) at (5,3);
\coordinate (B2) at (5,-3);
\coordinate (B3) at (1.5,-3);

\coordinate (S) at ($0.6*(A)+0.4*(B)$);
\coordinate (S1) at (0,-3);

\fill[color=darkred!20] (S) -- (B) -- (C) -- cycle;

\draw (A) -- (B);
\draw (A) -- (C);
\draw (A) -- (A1);
\draw (A) -- (A2);
\draw (B) -- (C);
\draw (C) -- (S);
\draw[color=darkgreen] (S) -- (S1);
\draw (B) -- (B1);
\draw (B) -- (B2);
%\draw (B) -- (B3);
\draw (C) -- (C1);
%\draw (C) -- (C2);
\draw (C) -- (C3);

\draw[color=darkred,line width=1.4pt] (B) -- (S) -- (C);
\draw[color=blue,line width=1.4pt] (C) -- (B);

\draw[color=darkred,line width=1.4pt] ($(B)+(-\d,0)$) -- ($(B3)+(-\d,0)$);
\draw[color=blue,line width=1.4pt] ($(B)+(\d,0)$) -- ($(B3)+(\d,0)$);
\draw[color=darkred,line width=1.4pt] ($(C)+(-\d,0)$) -- ($(C2)+(-\d,0)$);
\draw[color=blue,line width=1.4pt] ($(C)+(\d,0)$) -- ($(C2)+(\d,0)$);

\fill (A) circle[radius=0.07];
\fill (B) circle[radius=0.07];
\fill (C) circle[radius=0.07];
\fill[color=darkgreen] (S) circle[radius=0.07];

\node[color=darkred] at ($0.5*(S)+0.5*(C)$) [left] {$z$};
\node[color=blue] at ($0.5*(B)+0.5*(C)$) [above right] {$z'$};

\node[color=darkred] at ($0.333*(B)+0.333*(S)+0.333*(C)$) {$\Delta$};

\node at ($(A)+(-0.2,-0.04)$) {$a$};
\node at ($(B)+(0.26,0.07)$) {$b$};
\node at ($(C)+(0.25,0)$) {$c$};
\node[color=darkgreen] at ($(S)+(0.20,-0.10)$) {$s$};

\end{scope}

\begin{scope}[xshift=3.3cm]

\clip (-3,-2.5) rectangle (3,2.5);
%\fill[color=gray!10] (-4,-4) rectangle (4,4);

\input{u.tex}

\coordinate (C1) at (5,2);
\coordinate (C2) at (-5,2);
\coordinate (C3) at (1,4);
\coordinate (C4) at (-1,4);
\coordinate (C5) at (-2,-4);
\coordinate (C6) at (2,-4);
\coordinate (C7) at (0,-4);

\fill[color=darkgreen!10] (B) -- (A) -- (S) -- (C) -- cycle;
\fill[color=darkred!20] (A) -- (C) -- (S) -- cycle;

\draw (A) -- (B) -- (C) -- cycle;
\draw[color=darkgreen] (A) -- (S);
\draw[color=darkgreen] (B) -- (S);
\draw[color=darkgreen] (C) -- (S);


\draw (B) -- (C2);
\draw (B) -- (C5);
\draw (B) -- (C7);

\draw (A) -- (C6);
\draw (A) -- (C1);
%\draw (A) -- (C7);

\draw (C) -- (C3);
%\draw (C) -- (C4);
\draw (C) -- (C1);
\draw (C) -- (C2);

\draw[color=darkred,line width=1.4pt] ($(C)+(-\d,0)$) -- ($(C4)+(-\d,0)$);
\draw[color=darkred,line width=1.4pt] (C)--(S)--(A);
\draw[color=darkred,line width=1.4pt] ($(A)+(-\d,0)$) -- ($(C7)+(-\d,0)$);
\draw[color=blue,line width=1.4pt] ($(C)+(\d,0)$) -- ($(C4)+(\d,0)$);
\draw[color=blue,line width=1.4pt] (C) -- (A);
\draw[color=blue,line width=1.4pt] ($(A)+(\d,0)$) -- ($(C7)+(\d,0)$);

\fill (A) circle[radius=0.07];
\fill (B) circle[radius=0.07];
\fill (C) circle[radius=0.07];
\fill[color=darkred] (S) circle[radius=0.07];

\node[color=darkred] at ($0.333*(A)+0.333*(S)+0.333*(C)$) {$\Delta$};

\node at ($(B)+(-0.2,-0.05)$) {$a$};
\node at ($(A)+(0.2,-0.05)$) {$b$};
\node[color=darkgreen] at ($(S)+(-0.2,0.1)$) {$s$};
\node at ($(C)+(-0.25,-0.15)$) {$c$};
\node[color=darkred] at ($0.7*(S)+0.3*(C)$) [left] {$z$};
\node[color=blue] at ($0.5*(A)+0.5*(C)$) [right] {$z'$};

\end{scope}

\end{tikzpicture}
\end{document}

